# 9.praktikumi aruanne

| Küsimus                                                                                                                                                                                                                                                                                                                                                                                                                         | Linux                                                                                                                                                                                                                                                                                                                                                                                                                              | Windows                                                                                                                                                                                          | Linuxis kasutatud käsklus                                                                                                                              | Windowsis kasutatud tööriist                                                             |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
| Mitu protsessi kokku arvutis käib?                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                209 |                                                                                                                                                                                              122 | ps -aux \| wc -l                                                                                                                                       | Task Manager -> Jõudlus                                                                  |
| Milline on kõige esimesena käivitatud protsess? (lisalugemine: init vs systemd)                                                                                                                                                                                                                                                                                                                                                 | /sbin/init splash                                                                                                                                                                                                                                                                                                                                                                                                                  | smss.exe                                                                                                                                                                                         | ps axo pid,cmd,comm,etime \| head -n 2 \| tail -n 1                                                                                                    | Process Explorer -> Start Time                                                           |
| Milliste kasutajate protsesse arvutis käib? (arvesta ka süsteemiprotsesse, mitte ainult sisse logitud kasutajaid)                                                                                                                                                                                                                                                                                                               | avahi, colord, kernoops, marten, message+, root, rtkit, syslog, systemd+                                                                                                                                                                                                                                                                                                                                                           | UMFD-1, UMFD-0, SYSTEM, NETWORK SERVICE, Marten, LOCAL SERVICE, DWM-1                                                                                                                            | ps -aux \| awk '{print $1}' \| tail -n +2 \| sort -u                                                                                                   | Task Manager -> Üksikasjad > kasutajanimi                                                |
| Kui kaua on arvuti järjest töötanud (up time)? (Alternatiivselt võib vastata ka, millal (kuupäev ja kellaaeg) arvuti viimati käima pandi.)                                                                                                                                                                                                                                                                                      | 23 min, käivitatud 19:45:35                                                                                                                                                                                                                                                                                                                                                                                                        | 0:00:21:20                                                                                                                                                                                       | uptime                                                                                                                                                 | Task Manager ->  Jõudlus -> Tööaeg                                                       |
| Milline protsess käivitati kõige hiljem (viimasena)?  (Mitte võtta arvesse programmi, millega seda infot otsida.)                                                                                                                                                                                                                                                                                                               | [kworker/1:0-events]                                                                                                                                                                                                                                                                                                                                                                                                               | dwm.exe                                                                                                                                                                                          | ps -aux \| tail -n 4 \| head -1                                                                                                                        | Process Explorer -> Start Time                                                           |
| Milline on kõige rohkem protsessoriaega võttev protsess?                                                                                                                                                                                                                                                                                                                                                                        | /usr/bin/gnome-shell                                                                                                                                                                                                                                                                                                                                                                                                               | svchost.exe                                                                                                                                                                                      | ps aux --sort=-%cpu \| head -n 2 \| tail -n 1                                                                                                          | Process Explorer -> CPU Time                                                             |
| Milline on kõige rohkem virtuaalmälu (aadressiruumi, commit, Virtual Size) võttev protsess?                                                                                                                                                                                                                                                                                                                                     | /usr/bin/gnome-shell                                                                                                                                                                                                                                                                                                                                                                                                               | SearchHost.exe                                                                                                                                                                                   | ps aux --sort=-vsz \| head -n 2                                                                                                                        | Process Explorer -> Virtual Size                                                         |
| Milline on kõige rohkem füüsilist mälu (working set) võttev protsess?                                                                                                                                                                                                                                                                                                                                                           | /usr/bin/gnome-shell                                                                                                                                                                                                                                                                                                                                                                                                               | firefox.exe                                                                                                                                                                                      | ps aux --sort=-rss \| head -n 2                                                                                                                        | Process explorer -> Working Set                                                          |
| Kui palju füüsilisest mälust (Physical Memory) on vaba?                                                                                                                                                                                                                                                                                                                                                                         | 468Mi                                                                                                                                                                                                                                                                                                                                                                                                                              | 1,6GB                                                                                                                                                                                            | free -h \| awk '/^Mem:/ {print $4}'                                                                                                                    | Task Manager -> Jõudlus -> Saadaval                                                      |
| Kui palju on põhikettal (C:, /) vaba ruumi mahult (GB) ja protsentuaalselt?                                                                                                                                                                                                                                                                                                                                                     | 11GB, 100% - 52% = 48%                                                                                                                                                                                                                                                                                                                                                                                                             | 35,65GB, 56%                                                                                                                                                                                     | Vaba mahu leidmiseks: df -h / \| awk '/\// {print $4, $5}' ;                                                                                           | Disk Management -> Vaba ruum, % vaba                                                     |
| Milline on kõige suurem kõvakettal olev fail ja kõige suurem alamkaust?                                                                                                                                                                                                                                                                                                                                                         | Suurim fail: /var/lib/snapd/snaps/gnome-42-2204_141.snap ; Suurim kaust: /                                                                                                                                                                                                                                                                                                                                                         | Suurim fail: : \pagefile.sys ; suurim alamkaust: Windows                                                                                                                                         | Suurim fail: find / -type f -exec du -h {} + 2>/dev/null \| sort -rh \| head -n 1 ; suurim kaust: sudo du -ah / \| sort -rh \| grep 'G' \| head -n 10  | WinDirStat -> (C:) -> OK                                                                 |
| Võrrelge terminali käskude: sha1sum /dev/zero \| sha1sum /dev/zero ja sha1sum /dev/urandom \| sha1sum /dev/urandom protsessori kasutust. Võrdluseks avage teine terminaliaken ja top samaaegseks käivitamiseks. Uurige, millisele CPU alamtegevusele us, sy, id, wa, st jne kulub enim protsessori aega ja mitu protsenti kulub kummagi käsu korral. (Ainult Linuxis) Lisa ka ekraanipilt aruande juurde näiteks pärast tabelit | esimese käskluse puhul kulus cpu-l  85-100% kasutaja reziimis, 0-15% süsteemi reziimis            Teise käskluse puhul kulus cpu-l 35-45% kasutaja reziimis, 55-65% süsteemi reziimis                                                                                                                                                                                                                                              | -                                                                                                                                                                                                | sha1sum /dev/zero \| sha1sum /dev/zero ja sha1sum /dev/urandom \| sha1sum /dev/urandom                                                                 | -                                                                                        |
| Vasta järgnevatele alamküsimustele: (Ainult Windowsis)                                                                                                                                                                                                                                                                                                                                                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                  | -                                                                                                                                                                                                | -                                                                                                                                                      | -                                                                                        |
|     1. Milline protsess kõige rohkem salvestusseadmele kirjutab?                                                                                                                                                                                                                                                                                                                                                                | -                                                                                                                                                                                                                                                                                                                                                                                                                                  | taskhostw.exe                                                                                                                                                                                    | -                                                                                                                                                      | Resource Monitor -> Disk -> Write (B/sec)                                                |
|     2. Millisesse faili eelmise küsimuse protsess kõige rohkem kirjutab?                                                                                                                                                                                                                                                                                                                                                        | -                                                                                                                                                                                                                                                                                                                                                                                                                                  | C:\Windows\Media\Windows Background.wav                                                                                                                                                          | -                                                                                                                                                      | Resource Monitor -> Disk -> File                                                         |
|     3. Milline protsess kõige rohkem salvestusseadmelt loeb?                                                                                                                                                                                                                                                                                                                                                                    | -                                                                                                                                                                                                                                                                                                                                                                                                                                  | svchost.exe (LocalSystemNetworkRestricted -p)                                                                                                                                                    | -                                                                                                                                                      | Resource Monitor -> Disk -> Read (B/sec)                                                 |
|     4. Millisest failist eelmise küsimuse protsess kõige rohkem loeb?                                                                                                                                                                                                                                                                                                                                                           | -                                                                                                                                                                                                                                                                                                                                                                                                                                  | C:\$Mft (NTFS Master File Table)                                                                                                                                                                 | -                                                                                                                                                      | Resource Monitor -> Disk -> File                                                         |
| Millise protsessi poolt tekitatud võrguliiklus on suurima mahuga? Vali antud protsessi poolt kasutatavatest ühendustest üks ning kirjuta välja järgnev: kohalik IP-aadress, kohalik port, ühenduse teise poole IP-aadress, port, latents ja antud ühenduse poolt kasutatav võrguliikluse kogumaht. (Ainult Windowsis) Lisa ka ekraanipilt aruande juurde näiteks pärast tabelit.                                                | -                                                                                                                                                                                                                                                                                                                                                                                                                                  | Suurim võrguliiklus: firefox.exe  Kohalik ip aadress: 10.0.2.15 Kohalik port: 50323 Ühenduse teise poole IP-aadress: 34.120.208.123 port: 443 latents: 1ms võrguliikluse kogumaht: 145 989 B/sec | -                                                                                                                                                      | Resource Monitor -> Overview -> Network ; Resource Monitor -> Network -> TCP Connections |
| Sõber kurdab, et tema arvuti on oluliselt aeglasemaks muutunud. Milliseid konkreetseid programme või käsureakäske kasutad põhjustaja tuvastamiseks. Mõlemal juhul kirjuta, mida konkreetselt jälgid (nt mis aken, veerud, numbrid jne). (Vali Linuxis või Windowsis)                                                                                                                                                            | Valin Linuxi. Esmalt sisestan käsureale top ning uurin, kas mingi protsess tarbib ülemäära cpu või mälu aega, jälgin %CPU ja %MEM lahtreid. Teen sudo apt install iotop ning sisestan käsuritta sudo iotop. Sealt uurin, Millised protsessid loevad/kirjutavad suuremahuliselt. Lõpuks installin iftop-i käsuga sudo apt install iftop ning sisestan käsuritta iftop. Sealt uurin, kui palju mingi ühendus infot edastab või saab. | -                                                                                                                                                                                                | top, iotop, iftop                                                                                                                                      | -                                                                                        |

## 12.
![Kuvatõmmis 2023-11-20 210556](https://github.com/Marten221/opsys_Ojasaar/assets/144438767/0154069a-8047-4686-9865-249aef1220ac)
![Kuvatõmmis 2023-11-20 210729](https://github.com/Marten221/opsys_Ojasaar/assets/144438767/53db30b7-f0c9-46c2-b585-325643f5c7eb)

## 14.
![Kuvatõmmis 2023-11-20 230927](https://github.com/Marten221/opsys_Ojasaar/assets/144438767/3591ff5b-1f30-477e-9a16-04b5fa95df00)
![Kuvatõmmis 2023-11-20 231159](https://github.com/Marten221/opsys_Ojasaar/assets/144438767/227b2eba-8f95-42e5-9ba2-4a470ccd2407)
